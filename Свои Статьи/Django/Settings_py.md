## Settings.py 

### Регистрация приложения

Для регистрации можем использовать 2 способа:

1. Добавить в список приложений путь к конфигурационному классу этого прило­жения, заданному в виде строки:
```python
INSTALLED_APPS = [
...
    'sales_manager',
    'Hotel.apps.HotelConfig'
]
```

2. В модуле `__init__.ру` пакета приложения присвоить путь к конфигурационному классу переменной default_app_config:

```python
default_app_config = ’Hotel.apps.HotelConfig’
```

После чего добавить в список приложений строку с путем к пакету приложения:

```python
INSTALLED_APPS = [
...
    'Hotel',
]
```



#### Media (images, foto)

MEDIA_ROOT  - абсолютный путь файловой системы к каталогу, в котором будут храниться файлы, загруженные пользователем. По умолчанию пустая строка.

```python
Example: "/var/www/example.com/media/"
```

Укажем в проекте следующим образом:

```python
MEDIA_ROOT = os.path.join("BASE_DIR", 'media')
```

В константе  `MEDIA_ROOT` используем стандартный модуль os, где обращаемся к BASE_DIR (`BASE_DIR` ведет к корню нашего приложения) и в этом приложении создаем папку, например `media`(в учебном проекте она размещена, рядом с файлом SQlite)

MEDIA_URL - константа используемая для построения URL, как в среде разработке так и на "продакшен".

```python
MEDIA_URL = '/media/'
```

Для того, что бы загруженные файлы можно было просматривать (а не загружать) на сайте необходимо создать соответствующий маршрут, который будет указывать на загруженные файлы. Для этого используется функция static из модуля `from django.conf.urls.static import static`. Эта функция создаст маршрут по которому маршрутизатор передаст при запросе файлов управление специальному контроллеру Django, который и отдаст нам файл для просмотра. Этот маршрут мы используем только в режиме DEBUG.  Для этого перейдем в корневой URLS.py и пропишем в   `urlpatterns` необходимый код (см. URLS.py)

|                                 |                                                              |
| ------------------------------- | ------------------------------------------------------------ |
| AUTH_USER_MODEL                 | Django знал, что нужно использовать нашу новую модель `CustomUser` вместо [модели User](https://django.fun/docs/2.2/ref/contrib/auth.html#user-model) по умолчанию. |
| LANGUAGE_CODE = 'ru-ru'         | русифицируем проект Django                                   |
| BASE_DIR                        | путь к папке проекта. По умолчанию вычисляется автоматически; |
| DEBUG = True                    | режим работы сайта: отладочный (значение True) или эксплуатацион­ный (False). |
| DEFAULT_CHARSET                 | кодировка веб-страниц по умолчанию. По умолчанию: utf-8;     |
| ROOT_URLCONF = 'samplsite.urls' | путь к модулю, в котором записаны маршруты уровня проекта, в виде строки. Значение этого параметра указывается сразу при создании проекта; |
| SECRET_KEY                      | секретный ключ в виде строки с произвольным набором символов, сгенерированный утилитой django-admin. |
|                                 | **База ДАННЫХ настройки**                                    |
| DATABASES                       | Все базы данных, используемые проектом, записываются в параметре databases. Значение параметра databases по умолчанию — пустой словарь. |
| 'ENGINE'                        | формат используемой базы данных. (django.db.backends.postgresql — PostgreSQL;) |
| TIME_ZONE                       | временная зона для значений даты и времени, хранящихся в базе. (не ПУТАТЬ С ПРОЕКТОМ) |
| HOST                            | интернет-адрес компьютера, на котором работает СУБД;         |
| PORT                            | номер TCP-порта, через который выполняется подключение к СУБД. По умолчанию — пустая строка (используется порт по умолчанию); |
| USER                            | имя пользователя, от имени которого Django подключается к базе данных; |
| PASSWORD                        | пароль пользователя, от имени которого Django подключается к базе; |
| CONN_MAX_AGE                    | Время, в течение которого соединение с базой данных будет открыто, в виде целого числа в секундах. Если задано значение 0, соединение будет закрываться сразу после обработки запроса. Если задано значение None, соединение будет открыто всегда. По умолчанию — 0; |
| OPTIONS                         | дополнительные параметры подключения к базе данных, специфич­ные для используемой СУБД. Записываются в виде словаря, в котором каждый элемент указывает отдельный параметр. По умолчанию — пустой словарь. |
|                                 |                                                              |



```python
DATABASES = {
’default’: { 
	'ENGINE’: ’dj ango.db.backends.mysql', 
	’HOST’: ’localhost’, 
	’USER’: ’siteuser’, 
	’PASSWORD’: ’sitepassword’, 
	’NAME’: ’site'
	}
}
```

#### Список зарегистрированных приложений.

Список приложений, зарегистрированных в проекте, задается параметром installed apps.

```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'bboard.apps.BboardConfig',
]
```



|                               |                                                              |
| ----------------------------- | ------------------------------------------------------------ |
| 'django.contrib.admin'        | административный веб-сайт Django;                            |
| 'django.contrib.auth'         | встроенная подсистема разграничения доступа. Исполь­зуется административным сайтом (приложением django.contrib.admin); |
| 'django.contrib.contenttypes' | хранит список всех моделей, объявленных во всех приложениях сайта. Необходимо при создании полиморфных связей между моде­лями, используется административным сайтом, подсистемой разгра­ничения доступа (приложениями django. contrib. admin И dj ango. contrib. auth); |
| 'django.contrib.sessions'     | обрабатывает серверные сессии. Тре­буется при задействовании сессий и используется административным сайтом (приложением dj ango. contrib. admin); |
| 'django.contrib.messages'     | выводит всплывающие сообщения. Требуется для обработки всплывающих сообщений и ис­пользуется административным сайтом (приложением django. contrib.admin); |
| 'django.contrib.staticfiles'  | обрабатывает статические файлы. Необходимо, если в составе сайта имеются статические файлы. |
| 'bboard.apps.BboardConfig'    |                                                              |

#### Список зарегистрированных посредников.

**Посредник (middleware)** Django — это программный модуль, выполняющий пред­варительную обработку клиентского запроса перед передачей его контроллеру и окончательную обработку ответа, сгенерированного контроллером, перед его от­правкой клиенту.

```python
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]
```



| ! удалять не стоит                                           |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 'django.middleware.security.SecurityMiddleware'     !        | реализует дополнительную защиту сайта от сетевых атак;       |
| 'django.contrib.sessions.middleware.SessionMiddleware'       | обрабатывает Сервер­ные сессии на низком уровне. Используется подсистемами разграничения дос­тупа, сессий и всплывающих сообщений (приложениями django.contrib.auth, django. contrib. sessions И django. cont rib. messages); |
| 'django.middleware.common.CommonMiddleware'   !              | участвует в предварительной об­работке запросов;             |
| 'django.middleware.csrf.CsrfViewMiddleware'      !           | осуществляет защиту ОТ межсайтовых атак при обработке данных, переданных сайту HTTP-методом POST; |
| 'django.contrib.auth.middleware.AuthenticationMiddleware'    | добавляет В объект запроса атрибут, хранящий текущего пользователя. Через этот атрибут в кон­троллерах и шаблонах можно выяснить, какой пользователь выполнил вход на сайт и выполнил ли вообще. Используется административным сайтом и подсис­темой разграничения доступа (приложениями django.contrib.admin И django. contrib. auth); |
| 'django.contrib.messages.middleware.MessageMiddleware'       | обрабатывает всплывающие сообщения на низком уровне. Используется административным сайтом и подсистемой всплывающих сообщений (приложениями django. contrib.admin и dj ango.contrib.messages); |
| 'django.middleware.clickjacking.XFrameOptionsMiddleware'   ! | реализует дополни­тельную защиту сайта от сетевых атак.      |

#### Языковые настройки

|                         |                                                              |
| ----------------------- | ------------------------------------------------------------ |
| LANGUAGE_CODE           | код языки, на котором будут выводиться системные сообщения и страницы административного сайта, в виде строки. |
| USE_I18N                | если True, будет активизирована встроенная в Django система авто­матического перевода на язык, записанный в параметре language code, после чего все системные сообщения и страницы административного сайта будут выводиться на этом языке. Если False, автоматический перевод выполняться не будет, и сообщения и страницы станут выводиться на английском языке. по умолчанию---True. |
| USE_L10N                | если True, числа, значения даты и времени при выводе будут форма­тироваться по правилам языка из параметра language code. Если False, все эти значения будут форматироваться согласно настройкам, заданным в проекте. По умолчанию — False, однако при создании проекта ему дается значение True. |
| TIME_ZONE               | обозначение временной зоны в виде строки. Сразу же при создании проекта ему присваивается значение "итс" (всемирное координированное время). |
| USE_TZ                  | если True, Django будет хранить значения даты и времени с указанием временной зоны, в этом случае параметр time zone указывает временную зону по умолчанию. Если False, значения даты и времени будут храниться без отмет­ки временной зоны, и временную зону для них укажет параметр time zone. По умолчанию — False, однако при создании проекта ему дается значение True. |
|                         | **След. параметры будут приниматься Django в расчет только в том случае, если отключено автоматическое форматирование выводимых чисел, значений даты и времени (параметру USE_I18N дано значение False):** |
| DECIMAL SEPARATOR       | символ-разделитель целой и дробной частей вещественных чисел. По умолчанию: ”. ” |
| NUMBER GROUPING         | количество цифр в числе, составляющих группу, в виде це­лого числа. По умолчанию — 0 (группировка цифр не используется) |
| THOUSAND SEPARATOR      | символ-разделитель групп цифр в числах. По умолчанию: " ," (запятая) |
| USE THOUSANDS SEPARATOR | use thousands separator — если True, числа будут разбиваться на группы, если False — не будут. По умолчанию — False; |
| SHORT DATE FORMAT       | short date format — "короткий" формат значений даты. По умолчанию: "m/d/Y”. Пример SHORT_DATE_FORMAT = ' j . m. Y' |
| SHORT DATETIME FORMAT   | ’’короткий” формат временных отметок (значений даты и времени). По умолчанию: "m/d/Y р”  Пример SHORT_DATETIME_FORMAT = ’j.m.Y H:i:s’ |
| DATETIME FORMAT         | полный” формат значений даты. По умолчанию: ”N j, Y”  Пример DATE_FORMAT = ’j Е Y' |
| TIME FORMAT             | формат значений времени. По умолчанию: "P"  Пример TIME_FORMAT = ’H:i:s’ |
| MONTH DAY FORMAT        | формат для вывода месяца и числа. По умолчанию: "F, j”       |
| YEAR MONTH FORMAT       | формат для вывода месяца и года. По умолчанию: ”F Y”         |
| DATE INPUT FORMATS      | список форматов, в которых посетителям допускается за­носить значения даты в поля ввода. Получив из веб-формы значение даты в виде строки, Django будет последовательно сравнивать его со всеми форматами, имеющимися в этом списке, пока не найдет подходящий для преобразования строки в дату. Значение по умолчанию — довольно длинный список форматов, среди которого, к сожалению, нет формата <число>.<месяц>.<год из четырех цифр>. Чтобы указать его, следует записать в модуле settings.py выражение: DATE_INPUT_FORMATS = [ ’ %d. %m. %Y' ] |
| DATETIME INPUT FORMATS  | список форматов, в которых посетителям допускается заносить временные отметки в поля ввода. Получив из веб-формы временную отметку в виде строки, Django будет последовательно сравнивать его со всеми форматами из списка, пока не найдет подходящий для преобразования строки в значение даты и времени. Значение по умолчанию — довольно длинный список форматов, среди которого, к сожалению, нет формата <число> .<месяц> .<год из четырех цифр> <часы в 24-часовом формате>\<минуты>.<секунды>. Чтобы указать его, следует записать в модуле settings.py выражение:<br/>DATETIME_INPUT_FORMATS = ['%d.%m.%Y %H:%M:%S'] |
| TIME INPUT FORMATS      | список форматов, в которых посетителям допускается за­носить значения времени в поля ввода. Получив из веб-формы значение времени в виде строки, Django будет последовательно сравнивать его со всеми формата­ми из списка, пока не найдет подходящий для преобразования строки в значение времени.<br/>Значение по умолчанию: [’%H:%M:%s,  ’%H:%M:%S.%f’, %H:%M’] (в том числе форматы <часы в 24-часовом формате>\<минуты>\<секунды> и <часы в 24-часовом формате>\<минуты>}. |
| FIRST DAY OF WEEK       | номер дня, с которого начинается неделя, в виде целого числа от о (воскресенье) до 6 (суббота). По умолчанию: 0 (воскресенье). |
|                         |                                                              |
|                         |                                                              |
|                         |                                                              |
